# Claude Code Proxy Configuration

# Server configuration
server:
  host: "0.0.0.0"
  port: 8080

# Logging configuration
logging:
  level: "INFO"
  dir: "./logs"
  chatlog_enabled: true  # Enable detailed chatlog (request/response bodies)

# Target model provider configuration
provider:
  # Current active provider: gemini (primary), auto-failover to fallback_providers
  name: "gemini"
  # Note: Do NOT include the primary provider in fallback list to avoid duplicate retries
  fallback_providers: ["grok","deepseek"]

# Global proxy configuration

# Gemini configuration
gemini:
  api_key: "${GEMINI_API_KEY}"
  model: "gemini-2.5-flash"  # 使用 Gemini 3，测试 thought_signature 缓存
  base_url: "https://generativelanguage.googleapis.com/v1beta/openai"
  timeout: 600
  proxy: "http://127.0.0.1:7897"

# Grok configuration
grok:
  api_key: "${GROK_API_KEY}"
  model: "grok-4-1-fast-reasoning"
  base_url: "https://api.x.ai/v1"
  timeout: 600
  proxy: "http://127.0.0.1:7897"


# DeepSeek configuration (Anthropic-compatible)
deepseek:
  api_key: ${DEEPSEEK_API_KEY}
  model: deepseek-reasoner
  base_url: https://api.deepseek.com/anthropic
  timeout: 600
  proxy: ""
